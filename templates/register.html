{% load static %}


<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title> Register  </title>
      <!-- Favicon -->
      <link rel="icon" href="{% static 'assets/images/favicon.png' %}" type="image/x-icon" />
      <!-- Bootstrap CSS -->
      <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
      <!-- Animate CSS -->
      <link href="{% static 'assets/vendors/animate/animate.css' %}" rel="stylesheet">
      <!-- footer CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/footer.css' %}">
      <!-- Icon CSS-->
      <link rel="stylesheet" href="{% static 'assets/vendors/font-awesome/css/font-awesome.min.css' %}">
      <!-- Camera Slider -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Camera/1.3.4/css/camera.css">
      <!-- Owlcarousel CSS-->
      <link rel="stylesheet" type="text/css" href="{% static 'assets/vendors/owl_carousel/owl.carousel.css' %}" media="all">
      <!--Template Styles CSS-->
      <link rel="stylesheet" href="{% static '/assets/css/register.css' %}">
      <link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}" media="all" />
      <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i,700,700i,800,800i&amp;subset=cyrillic,cyrillic-ext,greek,greek-ext,latin-ext,vietnamese" rel="stylesheet">
   </head>

   <body id="top">
      <div class="about-bg-banner-img">
         <div class="overlay-all ">
        
          <nav class="header-nav">
            <div class="header-nav__content">
               <h3 style="font-size:1vw">Sha-Fi-Rec-Do </h3>
               <ul class="header-nav__list">
                  <li class=""><a class=""  href="{% url 'index' %}" >Home</a></li>
                  <li><a class=""  href="{% url 'about' %}" >About</a></li>
                  {% if user.is_authenticated %}
                  <li><a>Search</a></li>
                      <ul class="list-group">
                          <a href="{% url 'core:search_by_name' %}" style="margin-left: 20px;">1. By Name </a>
                          <a href="{% url 'core:search_by_genre' %}" style="margin-left: 20px;">2. By Genre</a>
                          <a href="{% url 'core:search_by_author' %}" style="margin-left: 20px;">3. By Author</a>
                      </ul>

                  <li><a>Get Recommendation</a></li>
                      <ul class="list-group">
                          <a href="{% url 'core:search_by_similarUser' %}" style="margin-left: 20px;">1. Read by Similar User</a>
                      </ul>

                  <li><a>Book Exchange</a></li>
                     <ul class="list-group">
                        <a href="{% url 'book_ex:bookex_form' %}" style="margin-left: 20px;">1. Exchange Your Book</a>
                        
                        <a href="{% url 'core:search_by_name' %}" style="margin-left: 20px;">2. Search Book for Exchange</a>
                     </ul>
                  <li><a class=""  href="{% url 'donation:nearby' %}">Donate</a></li>
                  <li><a class=""  href="{% url 'donation:ngo_form' %}">Register NGO </a></li>
                  
                  
                  <li><a class=""  href="{% url 'profile' %}">Profile</a></li>
                  <li><a class=""  href="{% url 'user_logout' %}">Logout</a></li>
                  {% else %}
                     <li><a class=""  href="{% url 'core:user_login' %}">Login </a></li>
                     <li><a class=""  href="{% url 'core:user_register' %}">Register</a></li>
                  {% endif %}
                  
               </ul>
               
            </div>
            <!-- end header-nav__content -->
         </nav>
               <!-- end header-nav -->
               <a class="header-menu-toggle" href="#0">
               <span class="header-menu-icon"></span>
               </a>
            </header>
            <!-- end s-header -->
            <!-- End Header_Area -->
            <!-- #banner start -->
            <section id="banner" class="py_120">
               <div class="container ">
                  <div class="row">
                     <!-- #banner-text start -->            
                     <div id="banner-text" class="col-md-7 text-c text-left ">
                        <h5 class="wow fadeInUp main-h font_30" data-wow-delay="0.2s" >Welcome To Sha-Fi-Rec-Do 
                           <br><span class="about_text "> REGISTER </span>  
                        </h5>
                     </div>
                     <!-- /#banner-text End -->
                  </div>
               </div>
            </section>
            <!--#Our banner-shap- Area -->
            <div class="container-fluid p0 banner-shap-img">
            </div>
            <!--#EndOur banner-shap- Area -->
         </div>
      </div>
      <!-- /#banner end -->
      
      <div class="register-photo">
        <div class="form-container">
            <form action="{% url 'core:user_register' %}" method="post">
                <h2 class="text-center"><strong>Create</strong> an account.</h2>
                <h2 class="text-center">Location</h2>
                <button onclick="getLocation()">Give access to your location</button>
                    
                    <p id="demo"></p>
                    <div class="form-group">
                      <input class="form-control" type="text" name="latitude" id="latitude" placeholder="Latitude" />
                    </div>
                    <div class="form-group">
                      <input class="form-control" type="text" name="longitude" id="longitude" placeholder="Longitude" />
                    </div>
                    
                    <h2 class="text-center">Personal Details</h2>
                    {% csrf_token %}
                    {{userform.as_p}}
                
                <div class="container">
                <div class="wrapper">
                  <h1 style="text-align: center;">
                    Choose your favorite genres from below options
                  </h1>
                
                  <div class="container">
                    {% for g in genreNodes %}
                    <label class="option_item">
                      <input type="checkbox" class="checkbox" name="genres" value="{{g.name}}">
                      <div class="option_inner twitter">
                        <div class="tickmark"></div>
                        <div class="icon"><i class="fas fa-book"></i></div>
                        <div class="name">{{g.name}}</div>
                      </div>
                    </label>
                    {% endfor %} 
                  </div>

                  <div class="form-group">
                    <button class="btn btn-primary btn-block" type="submit">Submit</button>
                </div>
                </div>
                <br>    
            </div>    
        </div>
    </div>

  
    
    {% block script %}
    <script>
        var x = document.getElementById("demo");
        var lat = document.getElementById("latitude");
        var long = document.getElementById("longitude");
        function getLocation() {
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition, showError);
          } else { 
            x.innerHTML = "Geolocation is not supported by this browser.";
          }
        }
        
        function showPosition(position) {
            
            // x.innerHTML = "Latitude: " + position.coords.latitude + 
            // "<br>Longitude: " + position.coords.longitude;
            lat.value = position.coords.latitude;
            long.value = position.coords.longitude;
            var latlon = position.coords.latitude + "," + position.coords.longitude;
            // var img_url = "https://maps.googleapis.com/maps/api/staticmap?center="+latlon+"&zoom=14&size=400x300&sensor=false&key=AIzaSyCbaKgkpfJ3y2tfe4JCsBRe6ADroVBG-Ss";
            // var img = new Image();
            // img.src = "https://maps.googleapis.com/maps/api/staticmap?center="+latlon+"&zoom=14&size=400x300&sensor=false&key=AIzaSyCbaKgkpfJ3y2tfe4JCsBRe6ADroVBG-Ss";
            // $('#output').html(img);
            // document.getElementById("mapholder").src = img_url;
            
        }
        
        function showError(error) {
          switch(error.code) {
            case error.PERMISSION_DENIED:
              x.innerHTML = "User denied the request for Geolocation."
              break;
            case error.POSITION_UNAVAILABLE:
              x.innerHTML = "Location information is unavailable."
              break;
            case error.TIMEOUT:
              x.innerHTML = "The request to get user location timed out."
              break;
            case error.UNKNOWN_ERROR:
              x.innerHTML = "An unknown error occurred."
              break;
          }
        }
    </script>
    {% endblock %}

 
</div>
	
      <!-- /.hero__overlay -->
      <!-- jQuery JS -->
      <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
      <script src="{% static 'assets/js/jquery-1.12.0.min.js' %}"></script>
      <script src="{% static 'assets/vendors/popup/lightbox.min.js' %}"></script>
      <script type="text/javascript">
         $(document).ready(function() {
         $("div.bhoechie-tab-menu>div.list-group>a").click(function(e) {
           e.preventDefault();
           $(this).siblings('a.active').removeClass("active");
           $(this).addClass("active");
           var index = $(this).index();
           $("div.bhoechie-tab>div.bhoechie-tab-content").removeClass("active");
           $("div.bhoechie-tab>div.bhoechie-tab-content").eq(index).addClass("active");
         });
         });
      </script> 
      
      <script type="text/javascript">
         $(document).ready(function () {
             $('#sidebarCollapse').on('click', function () {
                 $('#sidebar').toggleClass('active');
                 $(this).toggleClass('active');
             });
         });
      </script>
      <!-- Bootstrap JS -->
      <script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
      <!-- Animate JS -->
      <script src="{% static 'assets/vendors/animate/wow.min.js' %}"></script>
      <script src="{% static 'assets/vendors/sidebar/main.js' %}"></script>
      <!-- Owlcarousel JS -->
      <script src="{% static 'assets/vendors/owl_carousel/owl.carousel.min.js' %}"></script>
      <!-- Stellar JS-->
      <!-- Theme JS -->
      <script src="{% static 'assets/js/theme.min.js' %}"></script>
      
      <!-- app -->
      <script src="{% static 'assets/js/app.js' %}"></script>
   </body>
</html>
